{"error":{},"level":"error","message":"uncaughtException: await is only valid in async function\nC:\\Users\\Mido\\Desktop\\car-store\\api\\services\\mongoose-helpers.js:15\n      await model.countDocuments(query).exec((count_error, count) => {\n      ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1072:16)\n    at Module._compile (internal/modules/cjs/loader.js:1122:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\mark.js:4:24)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js:4:14)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)","stack":"C:\\Users\\Mido\\Desktop\\car-store\\api\\services\\mongoose-helpers.js:15\n      await model.countDocuments(query).exec((count_error, count) => {\n      ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1072:16)\n    at Module._compile (internal/modules/cjs/loader.js:1122:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\mark.js:4:24)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js:4:14)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)","exception":true,"date":"Sat Aug 15 2020 15:44:45 GMT+0200 (Eastern European Standard Time)","process":{"pid":15532,"uid":null,"gid":null,"cwd":"C:\\Users\\Mido\\Desktop\\car-store\\api","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v12.16.1","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js"],"memoryUsage":{"rss":58834944,"heapTotal":52527104,"heapUsed":20378280,"external":19794796}},"os":{"loadavg":[0,0,0],"uptime":46771},"trace":[{"column":16,"file":"internal/modules/cjs/loader.js","function":"wrapSafe","line":1072,"method":null,"native":false},{"column":27,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1122,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1178,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":1002,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":901,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1044,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":77,"method":null,"native":false},{"column":24,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\mark.js","function":null,"line":4,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1158,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1178,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":1002,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":901,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1044,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":77,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js","function":null,"line":4,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1158,"method":"_compile","native":false}]}
{"error":{},"level":"error","message":"uncaughtException: Unexpected token ')'\nC:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\mark.js:40\n  const result = await Mark.find({},{ sort: { createdAt: -1 }).limit(1)\n                                                             ^\n\nSyntaxError: Unexpected token ')'\n    at wrapSafe (internal/modules/cjs/loader.js:1072:16)\n    at Module._compile (internal/modules/cjs/loader.js:1122:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js:4:14)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js:7:1)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)","stack":"C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\mark.js:40\n  const result = await Mark.find({},{ sort: { createdAt: -1 }).limit(1)\n                                                             ^\n\nSyntaxError: Unexpected token ')'\n    at wrapSafe (internal/modules/cjs/loader.js:1072:16)\n    at Module._compile (internal/modules/cjs/loader.js:1122:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js:4:14)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1178:10)\n    at Module.load (internal/modules/cjs/loader.js:1002:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:901:14)\n    at Module.require (internal/modules/cjs/loader.js:1044:19)\n    at require (internal/modules/cjs/helpers.js:77:18)\n    at Object.<anonymous> (C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js:7:1)\n    at Module._compile (internal/modules/cjs/loader.js:1158:30)","exception":true,"date":"Sat Aug 15 2020 17:43:52 GMT+0200 (Eastern European Standard Time)","process":{"pid":12520,"uid":null,"gid":null,"cwd":"C:\\Users\\Mido\\Desktop\\car-store\\api","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v12.16.1","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js"],"memoryUsage":{"rss":59334656,"heapTotal":52269056,"heapUsed":20831136,"external":20004856}},"os":{"loadavg":[0,0,0],"uptime":53918},"trace":[{"column":16,"file":"internal/modules/cjs/loader.js","function":"wrapSafe","line":1072,"method":null,"native":false},{"column":27,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1122,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1178,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":1002,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":901,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1044,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":77,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\startup\\routes.js","function":null,"line":4,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1158,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1178,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":1002,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":901,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1044,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":77,"method":null,"native":false},{"column":1,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1158,"method":"_compile","native":false}]}
{"error":{},"level":"error","message":"uncaughtException: mongoose is not defined\nReferenceError: mongoose is not defined\n    at carPagination (C:\\Users\\Mido\\Desktop\\car-store\\api\\services\\mongoose-helpers.js:49:12)\n    at C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\car.js:23:3\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:317:13)","stack":"ReferenceError: mongoose is not defined\n    at carPagination (C:\\Users\\Mido\\Desktop\\car-store\\api\\services\\mongoose-helpers.js:49:12)\n    at C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\car.js:23:3\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js:317:13)","exception":true,"date":"Sat Aug 29 2020 20:34:50 GMT+0200 (Eastern European Standard Time)","process":{"pid":11352,"uid":null,"gid":null,"cwd":"C:\\Users\\Mido\\Desktop\\car-store\\api","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v12.16.1","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Mido\\Desktop\\car-store\\api\\index.js"],"memoryUsage":{"rss":34283520,"heapTotal":23924736,"heapUsed":21673168,"external":19723515}},"os":{"loadavg":[0,0,0],"uptime":255680},"trace":[{"column":12,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\services\\mongoose-helpers.js","function":"carPagination","line":49,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\routes\\car.js","function":null,"line":23,"method":null,"native":false},{"column":20,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js","function":"newFn","line":16,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":20,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js","function":"newFn","line":16,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":20,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express-async-errors\\index.js","function":"newFn","line":16,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Mido\\Desktop\\car-store\\api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}]}
